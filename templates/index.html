{{ define "index" }}
<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>dnssecme-not</title>
  <link href="/static/style.css" rel="stylesheet">
</head>
<body class="p-4">
  <h1 class="text-2xl mb-4">DNSSEC Status</h1>
  <div class="mb-4 grid grid-cols-3 gap-4">
    <div>Top 1000: {{ printf "%.1f" .Pct1000 }}%</div>
    <div>Top 500: {{ printf "%.1f" .Pct500 }}%</div>
    <div>Top 100: {{ printf "%.1f" .Pct100 }}%</div>
  </div>
  <div class="grid grid-cols-4 gap-2 font-bold border-b pb-2">
    <div>Rank</div>
    <div>Domain</div>
    <div>Status</div>
    <div>Checked</div>
  </div>
  {{ range .Domains }}
  <div class="grid grid-cols-4 gap-2 border-b py-2">
    <div>{{ .Rank }}</div>
    <div>{{ .Name }}</div>
    <div class="{{ if .HasDNSSEC }}text-red-600 font-bold{{ else }}text-green-200{{ end }}">
      {{ if .HasDNSSEC }}Enabled{{ else }}Disabled{{ end }}
    </div>
    <div title="{{ .CheckedAt }}">
      {{ if .CheckedAt }}{{ relativeTime .CheckedAtTime }}{{ end }}
    </div>
  </div>
  {{ end }}
  <div class="flex justify-between mt-4">
    {{ if .PrevPage }}
    <a href="/?page={{ .PrevPage }}" class="text-blue-700">Previous</a>
    {{ else }}<span></span>{{ end }}
    {{ if .NextPage }}
    <a href="/?page={{ .NextPage }}" class="text-blue-700">Next</a>
    {{ end }}
  </div>
</body>
</html>
{{ end }}
